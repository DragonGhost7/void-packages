# Template file for 'python3-cookiecutter'
pkgname=python3-cookiecutter
version=1.7.3
revision=1
wrksrc="cookiecutter-${version}"
build_style=python3-module
hostmakedepends="python3"
makedepends="python3-setuptools"
depends="python3-binaryornot python3-click python3-Jinja2 python3-requests python3-six python3-slugify python3-poyo python3-Jinja2-time"
checkdepends="git python3-freezegun python3-pytest python3-pytest-mock ${depends}"
short_desc="Command-line utility that creates projects from project templates"
maintainer="DragonGhost7 <darkiridiumghost@gmail.com>"
license="BSD-3-Clause"
homepage="https://github.com/cookiecutter/cookiecutter"
distfiles="${PYPI_SITE}/c/cookiecutter/cookiecutter-${version}.tar.gz"
checksum=6b9a4d72882e243be077a7397d0f1f76fe66cf3df91f3115dbb5330e214fa457

pre_check() {
#we dont need to test code coverage
	sed -e '/addopts/d' -i setup.cfg
}

do_check() {
# test fails because of chroots permission, allowing it to create folders that normal user wouldnt be able to
	pytest --deselect tests/test_utils.py::test_make_sure_path_exists
}

post_install() {
	vlicense LICENSE
}
